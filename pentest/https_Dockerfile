FROM httpd:2.4

# SSL 인증서 및 개인 키 복사
COPY ./scripts/apache.crt /usr/local/apache2/conf/server.crt
COPY ./scripts/apache.key /usr/local/apache2/conf/server.key

# Apache SSL 구성 파일 복사 및 활성화
COPY ./scripts/my-httpd-ssl.conf /usr/local/apache2/conf/extra/httpd-ssl.conf
RUN echo "Include conf/extra/httpd-ssl.conf" >> /usr/local/apache2/conf/httpd.conf

# SSL 모듈 활성화
RUN a2enmod ssl

# SSL 포트 노출
EXPOSE 443
