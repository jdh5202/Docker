# PHP 이미지
FROM php:5.6-apache

# mysqli 확장 설치
RUN docker-php-ext-install mysqli

# mod_rewrite 활성화
RUN a2enmod rewrite

# apache htaccess 사용 설정
COPY ./scripts/apache-config.conf /etc/apache2/sites-available/000-default.conf

# PHPMailer 설치
COPY ./api/PHPMailer-6.5.0 /var/www/PHPMailer

# TimeZone 설정 추가
RUN echo "date.timezone=Asia/Seoul" > /usr/local/etc/php/conf.d/timezone.ini

# Apache를 포그라운드에서 실행
CMD ["apache2-foreground"]
